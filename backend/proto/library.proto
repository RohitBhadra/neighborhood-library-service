syntax = "proto3";

package library;

service LibraryService {
  rpc CreateBook (BookRequest) returns (BookResponse);
  rpc BorrowBook (BorrowRequest) returns (ActionResponse);
  rpc ReturnBook (ReturnRequest) returns (ActionResponse);
  rpc ListBorrowedBooks (MemberRequest) returns (BookList);
}

message BookRequest {
  string title = 1;
  string author = 2;
  string isbn = 3;
}

message BookResponse {
  int32 id = 1;
  string title = 2;
}

message BorrowRequest {
  int32 book_id = 1;
  int32 member_id = 2;
}

message ReturnRequest {
  int32 book_id = 1;
}

message ActionResponse {
  bool success = 1;
  string message = 2;
}

message MemberRequest {
  int32 member_id = 1;
}

message BookList {
  repeated BookResponse books = 1;
}